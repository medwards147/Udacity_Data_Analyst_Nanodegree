<h1 id="analyzing-the-nyc-subway-dataset">Analyzing the NYC Subway Dataset</h1>
<h2 id="section-1.-statistical-test">Section 1. Statistical Test</h2>
<h4 id="which-statistical-test-did-you-use-to-analyze-the-nyc-subway-data">1.1 Which statistical test did you use to analyze the NYC subway data?</h4>
<p>Did you use a one-tail or a two-tail P value? What is the null hypothesis? What is your p-critical value?</p>
<p>I used a two tailed Mann-Whitney U test to perform an analysis on NYC subway data. Intuitively, one would think that rain would increase subway riders but we are no evidence to make this hypothesis. Therefore, I used a two-tailed test with the null hypothesis that the two populations are the same (rain does not effect how many people use the subway) and alternative hypothesis that the populations are different (rain does effect how many people use the subway). This test was run using a 95% confidence or p-critical of 0.05. </p>
<h4 id="why-is-this-statistical-test-applicable-to-the-dataset-in-particular-consider-the-assumptions-that-the-test-is-making-about-the-distribution-of-ridership-in-the-two-samples.">1.2 Why is this statistical test applicable to the dataset? In particular, consider the assumptions that the test is making about the distribution of ridership in the two samples.</h4>
<p>The histogram of the hourly entries when it was raining and not raining was non-normal (see Figure X). Therefore, Welchâ€™s t-test is not appropriate. I decided to use a non-parametric test (Mann-Whitney U test) because it does not assume the data was drawn from any underlying probability distribution.</p>
<h4 id="what-results-did-you-get-from-this-statistical-test-these-should-include-the-following-numerical-values-p-values-as-well-as-the-means-for-each-of-the-two-samples-under-test.">1.3 What results did you get from this statistical test? These should include the following numerical values: p-values, as well as the means for each of the two samples under test.</h4>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> mann_whitney_plus_means(turnstile_weather):
    <span class="co">&#39;&#39;&#39;</span>
<span class="co">    This function should return:</span>
<span class="co">        1) the mean of entries with rain</span>
<span class="co">        2) the mean of entries without rain</span>
<span class="co">        3) the Mann-Whitney U-statistic and p-value comparing the</span>
<span class="co">number of</span>
<span class="co">                entries with rain and the number of entries without</span>
<span class="co">rain</span>
<span class="co">    &#39;&#39;&#39;</span>
    df <span class="op">=</span> pandas.read_csv(turnstile_weather)

    with_rain_mean <span class="op">=</span> np.mean(df[<span class="st">&#39;ENTRIESn_hourly&#39;</span>][df[<span class="st">&#39;rain&#39;</span>] <span class="op">==</span> <span class="dv">1</span>])
    without_rain_mean <span class="op">=</span> np.mean(df[<span class="st">&#39;ENTRIESn_hourly&#39;</span>][df[<span class="st">&#39;rain&#39;</span>] <span class="op">==</span>
<span class="dv">0</span>])

    x <span class="op">=</span> df[<span class="st">&#39;ENTRIESn_hourly&#39;</span>][df[<span class="st">&#39;rain&#39;</span>] <span class="op">==</span> <span class="dv">1</span>]
    y <span class="op">=</span> df[<span class="st">&#39;ENTRIESn_hourly&#39;</span>][df[<span class="st">&#39;rain&#39;</span>] <span class="op">==</span> <span class="dv">0</span>]

    U, p <span class="op">=</span> scipy.stats.mannwhitneyu(x,y)

    <span class="cf">return</span> with_rain_mean, without_rain_mean, U, p</code></pre></div>
<p>The results of the above function are as follows:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">filename <span class="op">=</span> <span class="st">&#39;turnstile_data_master_with_weather.csv&#39;</span>
mann_whitney_plus_means(filename)</code></pre></div>
<h4 id="what-is-the-significance-and-interpretation-of-these-results-based-on-the-p-value-of-0.0193-the-null-hypothesis-is-rejected-and-we-can-say-there-is-a-significant-difference-between-subway-ridership-when-it-is-raining-and-when-it-is-not-raining.">1.4 What is the significance and interpretation of these results? Based on the p-value of [0.0193], the null hypothesis is rejected and we can say there is a significant difference between subway ridership when it is raining and when it is not raining.</h4>
